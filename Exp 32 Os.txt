#include<stdio.h>

int main(){
    int pages[50],frame[10],time[10];
    int n,f,i,j,pos,faults=0,count=0;

    printf("Enter number of pages: ");
    scanf("%d",&n);
    for(i=0;i<n;i++) scanf("%d",&pages[i]);

    printf("Enter number of frames: ");
    scanf("%d",&f);

    for(i=0;i<f;i++){ frame[i]=-1; time[i]=0; }

    for(i=0;i<n;i++){
        pos=-1;
        for(j=0;j<f;j++)
            if(frame[j]==pages[i]) pos=j;

        if(pos==-1){
            int min=9999,idx;
            for(j=0;j<f;j++)
                if(time[j]<min){min=time[j]; idx=j;}
            frame[idx]=pages[i];
            time[idx]=++count;
            faults++;
        }else{
            time[pos]=++count;
        }

        printf("Frames: ");
        for(j=0;j<f;j++) printf("%d ",frame[j]);
        printf("\n");
    }
    printf("Total Page Faults=%d\n",faults);
    return 0;
}
